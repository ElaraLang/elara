<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Elara.TypeInfer.Ftv.html"><span class="hs-identifier">Elara.TypeInfer.Ftv</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">difference</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">member</span></span><span class="hs-special">)</span><span>
</span><span id="line-4"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Elara.TypeInfer.Environment.html"><span class="hs-identifier">Elara.TypeInfer.Environment</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Environment.html#TypeEnvironment"><span class="hs-identifier">TypeEnvironment</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-5"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Elara.TypeInfer.Type.html"><span class="hs-identifier">Elara.TypeInfer.Type</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Constraint"><span class="hs-identifier">Constraint</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Elara.TypeInfer.Type.html#Monotype"><span class="hs-identifier">Monotype</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Elara.TypeInfer.Type.html#Polytype"><span class="hs-identifier">Polytype</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Elara.TypeInfer.Type.html#Type"><span class="hs-identifier">Type</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Elara.TypeInfer.Type.html#TypeVariable"><span class="hs-identifier">TypeVariable</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-6"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Elara.TypeInfer.Unique.html"><span class="hs-identifier">Elara.TypeInfer.Unique</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Unique.html#UniqueTyVar"><span class="hs-identifier">UniqueTyVar</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-7"></span><span>
</span><span id="line-8"></span><span class="hs-keyword">class</span><span> </span><span id="Ftv"><span class="annot"><a href="Elara.TypeInfer.Ftv.html#Ftv"><span class="hs-identifier hs-var">Ftv</span></a></span></span><span> </span><span id="local-6989586621680081686"><span class="annot"><a href="#local-6989586621680081686"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-9"></span><span>    </span><span id="ftv"><span class="annot"><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-type">ftv</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680081686"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="Elara.TypeInfer.Type.html#TypeVariable"><span class="hs-identifier hs-type">TypeVariable</span></a></span><span>
</span><span id="line-10"></span><span>
</span><span id="line-11"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680081687"><span class="annot"><a href="Elara.TypeInfer.Ftv.html#Ftv"><span class="hs-identifier hs-type">Ftv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Monotype"><span class="hs-identifier hs-type">Monotype</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680081687"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-12"></span><span>    </span><span id="local-6989586621680081756"><span class="annot"><span class="annottext">ftv :: Monotype loc -&gt; Set TypeVariable
</span><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var hs-var hs-var">ftv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#TypeVar"><span class="hs-identifier hs-type">TypeVar</span></a></span><span> </span><span class="annot"><span class="annottext">loc
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680081758"><span class="annot"><span class="annottext">TypeVariable
</span><a href="#local-6989586621680081758"><span class="hs-identifier hs-var">tv</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OneItem (Set TypeVariable) -&gt; Set TypeVariable
forall x. One x =&gt; OneItem x -&gt; x
</span><span class="hs-identifier hs-var">one</span></span><span> </span><span class="annot"><span class="annottext">OneItem (Set TypeVariable)
TypeVariable
</span><a href="#local-6989586621680081758"><span class="hs-identifier hs-var">tv</span></a></span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var">ftv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><span class="annottext">loc
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Scalar
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set TypeVariable
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var">ftv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#TypeConstructor"><span class="hs-identifier hs-type">TypeConstructor</span></a></span><span> </span><span class="annot"><span class="annottext">loc
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Qualified TypeName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680081762"><span class="annot"><span class="annottext">[Monotype loc]
</span><a href="#local-6989586621680081762"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Monotype loc -&gt; Set TypeVariable)
-&gt; [Monotype loc] -&gt; Set TypeVariable
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; [a] -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="annot"><span class="annottext">Monotype loc -&gt; Set TypeVariable
forall a. Ftv a =&gt; a -&gt; Set TypeVariable
</span><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var">ftv</span></a></span><span> </span><span class="annot"><span class="annottext">[Monotype loc]
</span><a href="#local-6989586621680081762"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var">ftv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="annot"><span class="annottext">loc
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680081765"><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081765"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621680081766"><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081766"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Monotype loc -&gt; Set TypeVariable
forall a. Ftv a =&gt; a -&gt; Set TypeVariable
</span><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var">ftv</span></a></span><span> </span><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081765"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Set TypeVariable -&gt; Set TypeVariable -&gt; Set TypeVariable
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Monotype loc -&gt; Set TypeVariable
forall a. Ftv a =&gt; a -&gt; Set TypeVariable
</span><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var">ftv</span></a></span><span> </span><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081766"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-16"></span><span>
</span><span id="line-17"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680081704"><span class="annot"><a href="Elara.TypeInfer.Ftv.html#Ftv"><span class="hs-identifier hs-type">Ftv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Type"><span class="hs-identifier hs-type">Type</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680081704"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-18"></span><span>    </span><span id="local-6989586621680081772"><span class="annot"><span class="annottext">ftv :: Type loc -&gt; Set TypeVariable
</span><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var hs-var hs-var">ftv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Polytype"><span class="hs-identifier hs-type">Polytype</span></a></span><span> </span><span id="local-6989586621680081774"><span class="annot"><span class="annottext">Polytype loc
</span><a href="#local-6989586621680081774"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Polytype loc -&gt; Set TypeVariable
forall a. Ftv a =&gt; a -&gt; Set TypeVariable
</span><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var">ftv</span></a></span><span> </span><span class="annot"><span class="annottext">Polytype loc
</span><a href="#local-6989586621680081774"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var">ftv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Lifted"><span class="hs-identifier hs-type">Lifted</span></a></span><span> </span><span id="local-6989586621680081776"><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081776"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Monotype loc -&gt; Set TypeVariable
forall a. Ftv a =&gt; a -&gt; Set TypeVariable
</span><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var">ftv</span></a></span><span> </span><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081776"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-20"></span><span>
</span><span id="line-21"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680081706"><span class="annot"><a href="Elara.TypeInfer.Ftv.html#Ftv"><span class="hs-identifier hs-type">Ftv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Polytype"><span class="hs-identifier hs-type">Polytype</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680081706"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-22"></span><span>    </span><span id="local-6989586621680081787"><span class="annot"><span class="annottext">ftv :: Polytype loc -&gt; Set TypeVariable
</span><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var hs-var hs-var">ftv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Forall"><span class="hs-identifier hs-type">Forall</span></a></span><span> </span><span class="annot"><span class="annottext">loc
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680081789"><span class="annot"><span class="annottext">[UniqueTyVar]
</span><a href="#local-6989586621680081789"><span class="hs-identifier hs-var">tvs</span></a></span></span><span> </span><span class="annot"><span class="annottext">Constraint loc
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680081790"><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081790"><span class="hs-identifier hs-var">t</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-23"></span><span>        </span><span class="annot"><span class="annottext">Monotype loc -&gt; Set TypeVariable
forall a. Ftv a =&gt; a -&gt; Set TypeVariable
</span><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var">ftv</span></a></span><span> </span><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081790"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-24"></span><span>            </span><span class="annot"><span class="annottext">Set TypeVariable -&gt; Set TypeVariable -&gt; Set TypeVariable
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-operator hs-var">`difference`</span></span><span> </span><span class="annot"><span class="annottext">[Item (Set TypeVariable)] -&gt; Set TypeVariable
forall l. IsList l =&gt; [Item l] -&gt; l
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniqueTyVar -&gt; TypeVariable
</span><a href="Elara.TypeInfer.Type.html#SkolemVar"><span class="hs-identifier hs-var">SkolemVar</span></a></span><span> </span><span class="annot"><span class="annottext">(UniqueTyVar -&gt; TypeVariable) -&gt; [UniqueTyVar] -&gt; [TypeVariable]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[UniqueTyVar]
</span><a href="#local-6989586621680081789"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span>            </span><span class="annot"><span class="annottext">Set TypeVariable -&gt; Set TypeVariable -&gt; Set TypeVariable
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-operator hs-var">`difference`</span></span><span> </span><span class="annot"><span class="annottext">[Item (Set TypeVariable)] -&gt; Set TypeVariable
forall l. IsList l =&gt; [Item l] -&gt; l
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UniqueTyVar -&gt; TypeVariable
</span><a href="Elara.TypeInfer.Type.html#UnificationVar"><span class="hs-identifier hs-var">UnificationVar</span></a></span><span> </span><span class="annot"><span class="annottext">(UniqueTyVar -&gt; TypeVariable) -&gt; [UniqueTyVar] -&gt; [TypeVariable]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[UniqueTyVar]
</span><a href="#local-6989586621680081789"><span class="hs-identifier hs-var">tvs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span>
</span><span id="line-27"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680081719"><span class="annot"><a href="Elara.TypeInfer.Ftv.html#Ftv"><span class="hs-identifier hs-type">Ftv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Environment.html#TypeEnvironment"><span class="hs-identifier hs-type">TypeEnvironment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680081719"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-28"></span><span>    </span><span id="local-6989586621680081801"><span class="annot"><span class="annottext">ftv :: TypeEnvironment loc -&gt; Set TypeVariable
</span><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var hs-var hs-var">ftv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Environment.html#TypeEnvironment"><span class="hs-identifier hs-type">TypeEnvironment</span></a></span><span> </span><span id="local-6989586621680081803"><span class="annot"><span class="annottext">Map (TypeEnvKey loc) (Type loc)
</span><a href="#local-6989586621680081803"><span class="hs-identifier hs-var">env</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Type loc -&gt; Set TypeVariable)
-&gt; Map (TypeEnvKey loc) (Type loc) -&gt; Set TypeVariable
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; Map (TypeEnvKey loc) a -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="annot"><span class="annottext">Type loc -&gt; Set TypeVariable
forall a. Ftv a =&gt; a -&gt; Set TypeVariable
</span><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var">ftv</span></a></span><span> </span><span class="annot"><span class="annottext">Map (TypeEnvKey loc) (Type loc)
</span><a href="#local-6989586621680081803"><span class="hs-identifier hs-var">env</span></a></span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span id="local-6989586621680081723"><span class="annot"><a href="Elara.TypeInfer.Ftv.html#occurs"><span class="hs-identifier hs-type">occurs</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Elara.TypeInfer.Ftv.html#Ftv"><span class="hs-identifier hs-type">Ftv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680081723"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Elara.TypeInfer.Type.html#TypeVariable"><span class="hs-identifier hs-type">TypeVariable</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680081723"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span><span>
</span><span id="line-31"></span><span id="occurs"><span class="annot"><span class="annottext">occurs :: forall a. Ftv a =&gt; TypeVariable -&gt; a -&gt; Bool
</span><a href="Elara.TypeInfer.Ftv.html#occurs"><span class="hs-identifier hs-var hs-var">occurs</span></a></span></span><span> </span><span id="local-6989586621680081808"><span class="annot"><span class="annottext">TypeVariable
</span><a href="#local-6989586621680081808"><span class="hs-identifier hs-var">tv</span></a></span></span><span> </span><span id="local-6989586621680081809"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680081809"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">TypeVariable
</span><a href="#local-6989586621680081808"><span class="hs-identifier hs-var">tv</span></a></span><span> </span><span class="annot"><span class="annottext">TypeVariable -&gt; Set TypeVariable -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><span class="hs-operator hs-var">`member`</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Set TypeVariable
forall a. Ftv a =&gt; a -&gt; Set TypeVariable
</span><a href="Elara.TypeInfer.Ftv.html#ftv"><span class="hs-identifier hs-var">ftv</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680081809"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-32"></span><span>
</span><span id="line-33"></span><span class="hs-keyword">class</span><span> </span><span id="Fuv"><span class="annot"><a href="Elara.TypeInfer.Ftv.html#Fuv"><span class="hs-identifier hs-var">Fuv</span></a></span></span><span> </span><span id="local-6989586621680081728"><span class="annot"><a href="#local-6989586621680081728"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-34"></span><span>    </span><span id="fuv"><span class="annot"><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-type">fuv</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680081728"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Set</span></span><span> </span><span class="annot"><a href="Elara.TypeInfer.Unique.html#UniqueTyVar"><span class="hs-identifier hs-type">UniqueTyVar</span></a></span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680081729"><span class="annot"><a href="Elara.TypeInfer.Ftv.html#Fuv"><span class="hs-identifier hs-type">Fuv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Monotype"><span class="hs-identifier hs-type">Monotype</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680081729"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-37"></span><span>    </span><span id="local-6989586621680081829"><span class="annot"><span class="annottext">fuv :: Monotype loc -&gt; Set UniqueTyVar
</span><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var hs-var hs-var">fuv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#TypeVar"><span class="hs-identifier hs-type">TypeVar</span></a></span><span> </span><span class="annot"><span class="annottext">loc
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#SkolemVar"><span class="hs-identifier hs-type">SkolemVar</span></a></span><span> </span><span class="annot"><span class="annottext">UniqueTyVar
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set UniqueTyVar
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var">fuv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#TypeVar"><span class="hs-identifier hs-type">TypeVar</span></a></span><span> </span><span class="annot"><span class="annottext">loc
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#UnificationVar"><span class="hs-identifier hs-type">UnificationVar</span></a></span><span> </span><span id="local-6989586621680081830"><span class="annot"><span class="annottext">UniqueTyVar
</span><a href="#local-6989586621680081830"><span class="hs-identifier hs-var">tv</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">OneItem (Set UniqueTyVar) -&gt; Set UniqueTyVar
forall x. One x =&gt; OneItem x -&gt; x
</span><span class="hs-identifier hs-var">one</span></span><span> </span><span class="annot"><span class="annottext">OneItem (Set UniqueTyVar)
UniqueTyVar
</span><a href="#local-6989586621680081830"><span class="hs-identifier hs-var">tv</span></a></span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var">fuv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Scalar"><span class="hs-identifier hs-type">Scalar</span></a></span><span> </span><span class="annot"><span class="annottext">loc
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Scalar
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set UniqueTyVar
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var">fuv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#TypeConstructor"><span class="hs-identifier hs-type">TypeConstructor</span></a></span><span> </span><span class="annot"><span class="annottext">loc
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Qualified TypeName
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680081831"><span class="annot"><span class="annottext">[Monotype loc]
</span><a href="#local-6989586621680081831"><span class="hs-identifier hs-var">ts</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Monotype loc -&gt; Set UniqueTyVar)
-&gt; [Monotype loc] -&gt; Set UniqueTyVar
forall m a. Monoid m =&gt; (a -&gt; m) -&gt; [a] -&gt; m
forall (t :: * -&gt; *) m a.
(Foldable t, Monoid m) =&gt;
(a -&gt; m) -&gt; t a -&gt; m
</span><span class="hs-identifier hs-var">foldMap</span></span><span> </span><span class="annot"><span class="annottext">Monotype loc -&gt; Set UniqueTyVar
forall a. Fuv a =&gt; a -&gt; Set UniqueTyVar
</span><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var">fuv</span></a></span><span> </span><span class="annot"><span class="annottext">[Monotype loc]
</span><a href="#local-6989586621680081831"><span class="hs-identifier hs-var">ts</span></a></span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var">fuv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="annot"><span class="annottext">loc
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680081832"><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081832"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621680081833"><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081833"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Monotype loc -&gt; Set UniqueTyVar
forall a. Fuv a =&gt; a -&gt; Set UniqueTyVar
</span><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var">fuv</span></a></span><span> </span><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081832"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Set UniqueTyVar -&gt; Set UniqueTyVar -&gt; Set UniqueTyVar
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Monotype loc -&gt; Set UniqueTyVar
forall a. Fuv a =&gt; a -&gt; Set UniqueTyVar
</span><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var">fuv</span></a></span><span> </span><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081833"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680081735"><span class="annot"><a href="Elara.TypeInfer.Ftv.html#Fuv"><span class="hs-identifier hs-type">Fuv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Constraint"><span class="hs-identifier hs-type">Constraint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680081735"><span class="hs-identifier hs-type">loc</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-44"></span><span>    </span><span id="local-6989586621680081846"><span class="annot"><span class="annottext">fuv :: Constraint loc -&gt; Set UniqueTyVar
</span><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var hs-var hs-var">fuv</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Equality"><span class="hs-identifier hs-type">Equality</span></a></span><span> </span><span class="annot"><span class="annottext">loc
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680081848"><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081848"><span class="hs-identifier hs-var">t1</span></a></span></span><span> </span><span id="local-6989586621680081849"><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081849"><span class="hs-identifier hs-var">t2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Monotype loc -&gt; Set UniqueTyVar
forall a. Fuv a =&gt; a -&gt; Set UniqueTyVar
</span><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var">fuv</span></a></span><span> </span><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081848"><span class="hs-identifier hs-var">t1</span></a></span><span> </span><span class="annot"><span class="annottext">Set UniqueTyVar -&gt; Set UniqueTyVar -&gt; Set UniqueTyVar
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Monotype loc -&gt; Set UniqueTyVar
forall a. Fuv a =&gt; a -&gt; Set UniqueTyVar
</span><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var">fuv</span></a></span><span> </span><span class="annot"><span class="annottext">Monotype loc
</span><a href="#local-6989586621680081849"><span class="hs-identifier hs-var">t2</span></a></span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var">fuv</span></a></span><span> </span><span class="annot"><a href="Elara.TypeInfer.Type.html#EmptyConstraint"><span class="hs-identifier hs-type">EmptyConstraint</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set UniqueTyVar
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var">fuv</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Elara.TypeInfer.Type.html#Conjunction"><span class="hs-identifier hs-type">Conjunction</span></a></span><span> </span><span class="annot"><span class="annottext">loc
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680081852"><span class="annot"><span class="annottext">Constraint loc
</span><a href="#local-6989586621680081852"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680081853"><span class="annot"><span class="annottext">Constraint loc
</span><a href="#local-6989586621680081853"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Constraint loc -&gt; Set UniqueTyVar
forall a. Fuv a =&gt; a -&gt; Set UniqueTyVar
</span><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var">fuv</span></a></span><span> </span><span class="annot"><span class="annottext">Constraint loc
</span><a href="#local-6989586621680081852"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Set UniqueTyVar -&gt; Set UniqueTyVar -&gt; Set UniqueTyVar
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Constraint loc -&gt; Set UniqueTyVar
forall a. Fuv a =&gt; a -&gt; Set UniqueTyVar
</span><a href="Elara.TypeInfer.Ftv.html#fuv"><span class="hs-identifier hs-var">fuv</span></a></span><span> </span><span class="annot"><span class="annottext">Constraint loc
</span><a href="#local-6989586621680081853"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-47"></span></pre></body></html>