<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Elara.Desugar</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">elara</span><ul class="links" id="page-menu"><li><a href="src/Elara.Desugar.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>GHC2024</td></tr></table><p class="caption">Elara.Desugar</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:Desugar">Desugar</a> a = <a href="https://hackage.haskell.org/package/effectful-core-2.5.1.0/docs/Effectful.html#t:Eff" title="Effectful">Eff</a> <a href="Elara-Desugar.html#t:DesugarPipelineEffects" title="Elara.Desugar">DesugarPipelineEffects</a> a</li><li class="src short"><span class="keyword">type</span> <a href="#t:DesugarPipelineEffects">DesugarPipelineEffects</a> = '[<a href="https://hackage.haskell.org/package/effectful-core-2.5.1.0/docs/Effectful-State-Static-Local.html#t:State" title="Effectful.State.Static.Local">State</a> <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a>, <a href="https://hackage.haskell.org/package/effectful-core-2.5.1.0/docs/Effectful-Error-Static.html#t:Error" title="Effectful.Error.Static">Error</a> <a href="Elara-Desugar-Error.html#t:DesugarError" title="Elara.Desugar.Error">DesugarError</a>]</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:DesugarState">DesugarState</a> = <a href="#v:DesugarState">DesugarState</a> {<ul class="subs"><li><a href="#v:_partialDeclarations">_partialDeclarations</a> :: <a href="Prelude.html#t:Map" title="Prelude">Map</a> (<a href="Elara-AST-Region.html#t:IgnoreLocation" title="Elara.AST.Region">IgnoreLocation</a> <a href="Elara-AST-Name.html#t:Name" title="Elara.AST.Name">Name</a>) <a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a></li></ul>}</li><li class="src short"><a href="#v:partialDeclarations">partialDeclarations</a> :: <a href="Prelude.html#t:Iso-39-" title="Prelude">Iso'</a> <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> (<a href="Prelude.html#t:Map" title="Prelude">Map</a> (<a href="Elara-AST-Region.html#t:IgnoreLocation" title="Elara.AST.Region">IgnoreLocation</a> <a href="Elara-AST-Name.html#t:Name" title="Elara.AST.Name">Name</a>) <a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a>)</li><li class="src short"><a href="#v:resolvePartialDeclaration">resolvePartialDeclaration</a> :: <a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> <a href="Elara-AST-Desugared.html#t:DesugaredDeclarationBody" title="Elara.AST.Desugared">DesugaredDeclarationBody</a></li><li class="src short"><a href="#v:resolveAnn">resolveAnn</a> :: <a href="Prelude.html#t:Maybe" title="Prelude">Maybe</a> (<a href="Elara-AST-Generic-Types.html#t:ValueDeclAnnotations" title="Elara.AST.Generic.Types">ValueDeclAnnotations</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a>) -&gt; <a href="Elara-AST-Generic-Types.html#t:ValueDeclAnnotations" title="Elara.AST.Generic.Types">ValueDeclAnnotations</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a></li><li class="src short"><a href="#v:getDesugaredModule">getDesugaredModule</a> :: <a href="Elara-AST-Name.html#t:ModuleName" title="Elara.AST.Name">ModuleName</a> -&gt; <a href="https://hackage.haskell.org/package/effectful-core-2.5.1.0/docs/Effectful.html#t:Eff" title="Effectful">Eff</a> (<a href="Elara-Query-Effects.html#t:ConsQueryEffects" title="Elara.Query.Effects">ConsQueryEffects</a> '[<a href="https://hackage.haskell.org/package/effectful-core-2.5.1.0/docs/Effectful-Error-Static.html#t:Error" title="Effectful.Error.Static">Error</a> <a href="Elara-Desugar-Error.html#t:DesugarError" title="Elara.Desugar.Error">DesugarError</a>, <a href="Rock.html#t:Rock" title="Rock">Rock</a> <a href="Elara-Query.html#t:Query" title="Elara.Query">Query</a>]) (<a href="Elara-AST-Module.html#t:Module" title="Elara.AST.Module">Module</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a>)</li><li class="src short"><a href="#v:desugar">desugar</a> :: <a href="Elara-AST-Module.html#t:Module" title="Elara.AST.Module">Module</a> '<a href="Elara-AST-Select.html#v:Frontend" title="Elara.AST.Select">Frontend</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> (<a href="Elara-AST-Module.html#t:Module" title="Elara.AST.Module">Module</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a>)</li><li class="src short"><a href="#v:desugarDeclarations">desugarDeclarations</a> :: <a href="Elara-AST-Region.html#t:Located" title="Elara.AST.Region">Located</a> <a href="Elara-AST-Name.html#t:ModuleName" title="Elara.AST.Name">ModuleName</a> -&gt; [<a href="Elara-AST-Frontend.html#t:FrontendDeclaration" title="Elara.AST.Frontend">FrontendDeclaration</a>] -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> [<a href="Elara-AST-Desugared.html#t:DesugaredDeclaration" title="Elara.AST.Desugared">DesugaredDeclaration</a>]</li><li class="src short"><a href="#v:assertPartialNamesEqual">assertPartialNamesEqual</a> :: <a href="Prelude.html#t:Eq" title="Prelude">Eq</a> a =&gt; (<a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a>, <a href="Elara-AST-Region.html#t:Located" title="Elara.AST.Region">Located</a> a) -&gt; (<a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a>, <a href="Elara-AST-Region.html#t:Located" title="Elara.AST.Region">Located</a> a) -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> ()</li><li class="src short"><a href="#v:resolveDupeInfixes">resolveDupeInfixes</a> :: <a href="Prelude.html#t:Maybe" title="Prelude">Maybe</a> (<a href="Elara-AST-Generic-Types.html#t:ValueDeclAnnotations" title="Elara.AST.Generic.Types">ValueDeclAnnotations</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a>) -&gt; <a href="Prelude.html#t:Maybe" title="Prelude">Maybe</a> (<a href="Elara-AST-Generic-Types.html#t:ValueDeclAnnotations" title="Elara.AST.Generic.Types">ValueDeclAnnotations</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a>) -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> (<a href="Elara-AST-Generic-Types.html#t:ValueDeclAnnotations" title="Elara.AST.Generic.Types">ValueDeclAnnotations</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a>)</li><li class="src short"><a href="#v:mergePartials">mergePartials</a> :: <a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a> -&gt; <a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> <a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a></li><li class="src short"><a href="#v:genPartials">genPartials</a> :: [<a href="Elara-AST-Frontend.html#t:FrontendDeclaration" title="Elara.AST.Frontend">FrontendDeclaration</a>] -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> ()</li><li class="src short"><a href="#v:desugarType">desugarType</a> :: <a href="Elara-AST-Frontend.html#t:FrontendType-39-" title="Elara.AST.Frontend">FrontendType'</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> <a href="Elara-AST-Desugared.html#t:DesugaredType-39-" title="Elara.AST.Desugared">DesugaredType'</a></li><li class="src short"><a href="#v:completePartials">completePartials</a> :: <a href="Elara-AST-Region.html#t:Located" title="Elara.AST.Region">Located</a> <a href="Elara-AST-Name.html#t:ModuleName" title="Elara.AST.Name">ModuleName</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> [<a href="Elara-AST-Desugared.html#t:DesugaredDeclaration" title="Elara.AST.Desugared">DesugaredDeclaration</a>]</li><li class="src short"><a href="#v:desugarExpr">desugarExpr</a> :: <a href="Elara-AST-Frontend.html#t:FrontendExpr" title="Elara.AST.Frontend">FrontendExpr</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> <a href="Elara-AST-Desugared.html#t:DesugaredExpr" title="Elara.AST.Desugared">DesugaredExpr</a></li><li class="src short"><a href="#v:desugarBinaryOperator">desugarBinaryOperator</a> :: <a href="Elara-AST-Frontend.html#t:FrontendBinaryOperator" title="Elara.AST.Frontend">FrontendBinaryOperator</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> <a href="Elara-AST-Desugared.html#t:DesugaredBinaryOperator" title="Elara.AST.Desugared">DesugaredBinaryOperator</a></li><li class="src short"><a href="#v:desugarPattern">desugarPattern</a> :: <a href="Elara-AST-Frontend.html#t:FrontendPattern" title="Elara.AST.Frontend">FrontendPattern</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> <a href="Elara-AST-Desugared.html#t:DesugaredPattern" title="Elara.AST.Desugared">DesugaredPattern</a></li><li class="src short"><a href="#v:foldLambda">foldLambda</a> :: [<a href="Elara-AST-Desugared.html#t:DesugaredPattern" title="Elara.AST.Desugared">DesugaredPattern</a>] -&gt; <a href="Elara-AST-Desugared.html#t:DesugaredExpr" title="Elara.AST.Desugared">DesugaredExpr</a> -&gt; <a href="Elara-AST-Desugared.html#t:DesugaredExpr" title="Elara.AST.Desugared">DesugaredExpr</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Desugar" class="def">Desugar</a> a = <a href="https://hackage.haskell.org/package/effectful-core-2.5.1.0/docs/Effectful.html#t:Eff" title="Effectful">Eff</a> <a href="Elara-Desugar.html#t:DesugarPipelineEffects" title="Elara.Desugar">DesugarPipelineEffects</a> a <a href="src/Elara.Desugar.html#Desugar" class="link">Source</a> <a href="#t:Desugar" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DesugarPipelineEffects" class="def">DesugarPipelineEffects</a> = '[<a href="https://hackage.haskell.org/package/effectful-core-2.5.1.0/docs/Effectful-State-Static-Local.html#t:State" title="Effectful.State.Static.Local">State</a> <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a>, <a href="https://hackage.haskell.org/package/effectful-core-2.5.1.0/docs/Effectful-Error-Static.html#t:Error" title="Effectful.Error.Static">Error</a> <a href="Elara-Desugar-Error.html#t:DesugarError" title="Elara.Desugar.Error">DesugarError</a>] <a href="src/Elara.Desugar.html#DesugarPipelineEffects" class="link">Source</a> <a href="#t:DesugarPipelineEffects" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:DesugarState" class="def">DesugarState</a> <a href="src/Elara.Desugar.html#DesugarState" class="link">Source</a> <a href="#t:DesugarState" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DesugarState" class="def">DesugarState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_partialDeclarations" class="def">_partialDeclarations</a> :: <a href="Prelude.html#t:Map" title="Prelude">Map</a> (<a href="Elara-AST-Region.html#t:IgnoreLocation" title="Elara.AST.Region">IgnoreLocation</a> <a href="Elara-AST-Name.html#t:Name" title="Elara.AST.Name">Name</a>) <a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:DesugarState">Instances</h4><details id="i:DesugarState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DesugarState:Pretty:1"></span> <a href="Elara-Data-Pretty.html#t:Pretty" title="Elara.Data.Pretty">Pretty</a> <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a></span> <a href="src/Elara.Desugar.html#line-41" class="link">Source</a> <a href="#t:DesugarState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DesugarState:Pretty:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Elara-Desugar.html">Elara.Desugar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pretty">pretty</a> :: <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> -&gt; <a href="Elara-Data-Pretty.html#t:Doc" title="Elara.Data.Pretty">Doc</a> <a href="Elara-Data-Pretty.html#t:AnsiStyle" title="Elara.Data.Pretty">AnsiStyle</a> <a href="src/Elara.Data.Pretty.html#pretty" class="link">Source</a> <a href="#v:pretty" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DesugarState:Monoid:2"></span> <a href="Prelude.html#t:Monoid" title="Prelude">Monoid</a> <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a></span> <a href="src/Elara.Desugar.html#line-41" class="link">Source</a> <a href="#t:DesugarState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DesugarState:Monoid:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Elara-Desugar.html">Elara.Desugar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> -&gt; <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> -&gt; <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a>] -&gt; <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DesugarState:Semigroup:3"></span> <a href="Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a></span> <a href="src/Elara.Desugar.html#line-41" class="link">Source</a> <a href="#t:DesugarState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DesugarState:Semigroup:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Elara-Desugar.html">Elara.Desugar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> -&gt; <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> -&gt; <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="Prelude.html#t:NonEmpty" title="Prelude">NonEmpty</a> <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> -&gt; <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> -&gt; <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:DesugarState:Show:4"></span> <a href="Prelude.html#t:Show" title="Prelude">Show</a> <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a></span> <a href="src/Elara.Desugar.html#line-41" class="link">Source</a> <a href="#t:DesugarState" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:DesugarState:Show:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Elara-Desugar.html">Elara.Desugar</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="Prelude.html#t:Int" title="Prelude">Int</a> -&gt; <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> -&gt; <a href="Prelude.html#t:String" title="Prelude">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a>] -&gt; <a href="https://hackage.haskell.org/package/base-4.21.0.0/docs/Prelude.html#t:ShowS" title="Prelude">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:partialDeclarations" class="def">partialDeclarations</a> :: <a href="Prelude.html#t:Iso-39-" title="Prelude">Iso'</a> <a href="Elara-Desugar.html#t:DesugarState" title="Elara.Desugar">DesugarState</a> (<a href="Prelude.html#t:Map" title="Prelude">Map</a> (<a href="Elara-AST-Region.html#t:IgnoreLocation" title="Elara.AST.Region">IgnoreLocation</a> <a href="Elara-AST-Name.html#t:Name" title="Elara.AST.Name">Name</a>) <a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a>) <a href="src/Elara.Desugar.html#partialDeclarations" class="link">Source</a> <a href="#v:partialDeclarations" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:resolvePartialDeclaration" class="def">resolvePartialDeclaration</a> :: <a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> <a href="Elara-AST-Desugared.html#t:DesugaredDeclarationBody" title="Elara.AST.Desugared">DesugaredDeclarationBody</a> <a href="src/Elara.Desugar.html#resolvePartialDeclaration" class="link">Source</a> <a href="#v:resolvePartialDeclaration" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:resolveAnn" class="def">resolveAnn</a> :: <a href="Prelude.html#t:Maybe" title="Prelude">Maybe</a> (<a href="Elara-AST-Generic-Types.html#t:ValueDeclAnnotations" title="Elara.AST.Generic.Types">ValueDeclAnnotations</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a>) -&gt; <a href="Elara-AST-Generic-Types.html#t:ValueDeclAnnotations" title="Elara.AST.Generic.Types">ValueDeclAnnotations</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a> <a href="src/Elara.Desugar.html#resolveAnn" class="link">Source</a> <a href="#v:resolveAnn" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getDesugaredModule" class="def">getDesugaredModule</a> :: <a href="Elara-AST-Name.html#t:ModuleName" title="Elara.AST.Name">ModuleName</a> -&gt; <a href="https://hackage.haskell.org/package/effectful-core-2.5.1.0/docs/Effectful.html#t:Eff" title="Effectful">Eff</a> (<a href="Elara-Query-Effects.html#t:ConsQueryEffects" title="Elara.Query.Effects">ConsQueryEffects</a> '[<a href="https://hackage.haskell.org/package/effectful-core-2.5.1.0/docs/Effectful-Error-Static.html#t:Error" title="Effectful.Error.Static">Error</a> <a href="Elara-Desugar-Error.html#t:DesugarError" title="Elara.Desugar.Error">DesugarError</a>, <a href="Rock.html#t:Rock" title="Rock">Rock</a> <a href="Elara-Query.html#t:Query" title="Elara.Query">Query</a>]) (<a href="Elara-AST-Module.html#t:Module" title="Elara.AST.Module">Module</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a>) <a href="src/Elara.Desugar.html#getDesugaredModule" class="link">Source</a> <a href="#v:getDesugaredModule" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:desugar" class="def">desugar</a> :: <a href="Elara-AST-Module.html#t:Module" title="Elara.AST.Module">Module</a> '<a href="Elara-AST-Select.html#v:Frontend" title="Elara.AST.Select">Frontend</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> (<a href="Elara-AST-Module.html#t:Module" title="Elara.AST.Module">Module</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a>) <a href="src/Elara.Desugar.html#desugar" class="link">Source</a> <a href="#v:desugar" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:desugarDeclarations" class="def">desugarDeclarations</a> :: <a href="Elara-AST-Region.html#t:Located" title="Elara.AST.Region">Located</a> <a href="Elara-AST-Name.html#t:ModuleName" title="Elara.AST.Name">ModuleName</a> -&gt; [<a href="Elara-AST-Frontend.html#t:FrontendDeclaration" title="Elara.AST.Frontend">FrontendDeclaration</a>] -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> [<a href="Elara-AST-Desugared.html#t:DesugaredDeclaration" title="Elara.AST.Desugared">DesugaredDeclaration</a>] <a href="src/Elara.Desugar.html#desugarDeclarations" class="link">Source</a> <a href="#v:desugarDeclarations" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:assertPartialNamesEqual" class="def">assertPartialNamesEqual</a> :: <a href="Prelude.html#t:Eq" title="Prelude">Eq</a> a =&gt; (<a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a>, <a href="Elara-AST-Region.html#t:Located" title="Elara.AST.Region">Located</a> a) -&gt; (<a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a>, <a href="Elara-AST-Region.html#t:Located" title="Elara.AST.Region">Located</a> a) -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> () <a href="src/Elara.Desugar.html#assertPartialNamesEqual" class="link">Source</a> <a href="#v:assertPartialNamesEqual" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:resolveDupeInfixes" class="def">resolveDupeInfixes</a> :: <a href="Prelude.html#t:Maybe" title="Prelude">Maybe</a> (<a href="Elara-AST-Generic-Types.html#t:ValueDeclAnnotations" title="Elara.AST.Generic.Types">ValueDeclAnnotations</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a>) -&gt; <a href="Prelude.html#t:Maybe" title="Prelude">Maybe</a> (<a href="Elara-AST-Generic-Types.html#t:ValueDeclAnnotations" title="Elara.AST.Generic.Types">ValueDeclAnnotations</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a>) -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> (<a href="Elara-AST-Generic-Types.html#t:ValueDeclAnnotations" title="Elara.AST.Generic.Types">ValueDeclAnnotations</a> '<a href="Elara-AST-Select.html#v:Desugared" title="Elara.AST.Select">Desugared</a>) <a href="src/Elara.Desugar.html#resolveDupeInfixes" class="link">Source</a> <a href="#v:resolveDupeInfixes" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mergePartials" class="def">mergePartials</a> :: <a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a> -&gt; <a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> <a href="Elara-Desugar-Error.html#t:PartialDeclaration" title="Elara.Desugar.Error">PartialDeclaration</a> <a href="src/Elara.Desugar.html#mergePartials" class="link">Source</a> <a href="#v:mergePartials" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:genPartials" class="def">genPartials</a> :: [<a href="Elara-AST-Frontend.html#t:FrontendDeclaration" title="Elara.AST.Frontend">FrontendDeclaration</a>] -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> () <a href="src/Elara.Desugar.html#genPartials" class="link">Source</a> <a href="#v:genPartials" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:desugarType" class="def">desugarType</a> :: <a href="Elara-AST-Frontend.html#t:FrontendType-39-" title="Elara.AST.Frontend">FrontendType'</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> <a href="Elara-AST-Desugared.html#t:DesugaredType-39-" title="Elara.AST.Desugared">DesugaredType'</a> <a href="src/Elara.Desugar.html#desugarType" class="link">Source</a> <a href="#v:desugarType" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:completePartials" class="def">completePartials</a> :: <a href="Elara-AST-Region.html#t:Located" title="Elara.AST.Region">Located</a> <a href="Elara-AST-Name.html#t:ModuleName" title="Elara.AST.Name">ModuleName</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> [<a href="Elara-AST-Desugared.html#t:DesugaredDeclaration" title="Elara.AST.Desugared">DesugaredDeclaration</a>] <a href="src/Elara.Desugar.html#completePartials" class="link">Source</a> <a href="#v:completePartials" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:desugarExpr" class="def">desugarExpr</a> :: <a href="Elara-AST-Frontend.html#t:FrontendExpr" title="Elara.AST.Frontend">FrontendExpr</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> <a href="Elara-AST-Desugared.html#t:DesugaredExpr" title="Elara.AST.Desugared">DesugaredExpr</a> <a href="src/Elara.Desugar.html#desugarExpr" class="link">Source</a> <a href="#v:desugarExpr" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:desugarBinaryOperator" class="def">desugarBinaryOperator</a> :: <a href="Elara-AST-Frontend.html#t:FrontendBinaryOperator" title="Elara.AST.Frontend">FrontendBinaryOperator</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> <a href="Elara-AST-Desugared.html#t:DesugaredBinaryOperator" title="Elara.AST.Desugared">DesugaredBinaryOperator</a> <a href="src/Elara.Desugar.html#desugarBinaryOperator" class="link">Source</a> <a href="#v:desugarBinaryOperator" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:desugarPattern" class="def">desugarPattern</a> :: <a href="Elara-AST-Frontend.html#t:FrontendPattern" title="Elara.AST.Frontend">FrontendPattern</a> -&gt; <a href="Elara-Desugar.html#t:Desugar" title="Elara.Desugar">Desugar</a> <a href="Elara-AST-Desugared.html#t:DesugaredPattern" title="Elara.AST.Desugared">DesugaredPattern</a> <a href="src/Elara.Desugar.html#desugarPattern" class="link">Source</a> <a href="#v:desugarPattern" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:foldLambda" class="def">foldLambda</a> :: [<a href="Elara-AST-Desugared.html#t:DesugaredPattern" title="Elara.AST.Desugared">DesugaredPattern</a>] -&gt; <a href="Elara-AST-Desugared.html#t:DesugaredExpr" title="Elara.AST.Desugared">DesugaredExpr</a> -&gt; <a href="Elara-AST-Desugared.html#t:DesugaredExpr" title="Elara.AST.Desugared">DesugaredExpr</a> <a href="src/Elara.Desugar.html#foldLambda" class="link">Source</a> <a href="#v:foldLambda" class="selflink">#</a></p><div class="doc"><p>Lambdas need quite a lot of desugaring - they need to be unfolded into a series of nested lambdas, and then each pattern needs to be converted into a match expression.</p><p>For example, <code class="inline-code">a (b, c) 1 -&gt; e</code> becomes
<code class="inline-code">a -&gt; b_1 -&gt; c_1 -&gt; match b_1 with
                            (b, c) -&gt; match 1 with
                                        1 -&gt; e</code></p><p>However, converting the matches would require renaming, and we're not able to do that yet.
Instead, we unfold the lambda, but keep the patterns, and the renamer handles the match conversion.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>